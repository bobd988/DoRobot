# 测试脚本 (Test Scripts)

本目录包含用于测试系统各个模块功能的测试脚本。

## 测试脚本列表

### 🔄 适配器测试
- **`test_adapter_conversion.py`** - 测试 Leader-Follower 适配器的坐标转换
  - 验证关节角度转换
  - 测试坐标系映射
  - 检查转换精度

### 📊 数据录制测试
- **`test_data_recorder.py`** - 测试数据录制功能
  - 验证数据保存
  - 测试异步保存
  - 检查数据完整性

### 🏠 归位测试
- **`test_go_home.py`** - 测试机械臂归位功能
  - 验证归位位置
  - 测试归位速度
  - 检查安全性

### 🎯 逆运动学测试
- **`test_ik_position.py`** - 测试逆运动学计算
  - 验证 IK 求解
  - 测试位置精度
  - 检查奇异点处理

### 🔌 通信测试
- **`test_robot_comm.py`** - 测试机械臂通信
  - 验证串口连接
  - 测试命令响应
  - 检查数据传输

### 📦 导入测试
- **`test_x5_import.py`** - 测试 ARX-X5 SDK 导入
  - 验证依赖安装
  - 测试模块加载
  - 检查版本兼容性

## 测试文档

- **`test_mapping.md`** - 坐标映射测试说明
  - 测试方法
  - 预期结果
  - 问题排查

## 使用方法

### 运行单个测试

```bash
# 激活环境
source ~/miniconda3/bin/activate dorobot

# 运行测试脚本
python tests/test_adapter_conversion.py
```

### 运行所有测试

```bash
# 创建测试运行脚本
for test in tests/test_*.py; do
    echo "Running $test..."
    python "$test"
done
```

## 测试前准备

### 1. 适配器测试
- 无需硬件连接
- 纯软件测试

### 2. 数据录制测试
- 需要 DORA 数据流运行
- 需要相机和机械臂连接

### 3. 归位测试
- 需要机械臂连接
- 确保周围无障碍物
- **注意安全！**

### 4. IK 测试
- 无需硬件连接
- 需要 URDF 模型文件

### 5. 通信测试
- 需要机械臂连接
- 检查串口权限

### 6. 导入测试
- 无需硬件连接
- 验证环境配置

## 测试结果

测试脚本会输出：
- ✅ 通过的测试
- ❌ 失败的测试
- ⚠️ 警告信息

## 注意事项

- 运行涉及机械臂运动的测试时，确保安全
- 某些测试需要特定的硬件配置
- 测试失败时，查看错误信息进行排查

## 相关文档

- [ARX_X5_VR控制技术文档](../ARX_X5_VR控制技术文档.md)
- [VR_X5_使用文档](../VR_X5_使用文档.md)
